<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />



<meta name="date" content="2023-10-25" />

<title>Topic 5: Data Cleaning and filtering</title>

<script src="site_libs/header-attrs-2.23/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="site_libs/bsTable-3.3.7/bootstrapTable.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #204a87; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #204a87; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #ce5c00; font-weight: bold; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>







<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Learn R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="Journal.html">Syllabus</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Introduction to Statistical Programming
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Topic 1: Introduction to R language</li>
    <li>
      <a href="page-a.html">Week 1</a>
    </li>
    <li>
      <a href="page-b.html">Week 2</a>
    </li>
    <li class="dropdown-header">Topic 2: Programming with R</li>
    <li>
      <a href="page-c.html">Week 3</a>
    </li>
    <li>
      <a href="page-d.html">Week 4</a>
    </li>
    <li class="dropdown-header">Topic 3: Importing data into R</li>
    <li>
      <a href="page-e.html">Week 5</a>
    </li>
    <li class="dropdown-header">Topic 4: Programming statistical graphics</li>
    <li>
      <a href="page-f.html">Week 6</a>
    </li>
    <li>
      <a href="page-g.html">Week 7</a>
    </li>
    <li class="dropdown-header">Topic 5: Data Cleaning and filtering</li>
    <li>
      <a href="page-h.html">Week 8</a>
    </li>
    <li>
      <a href="page-i.html">Week 9</a>
    </li>
    <li class="dropdown-header">Topic 6: Basic Statistical Analysis</li>
    <li>
      <a href="page-j.html">Week 10</a>
    </li>
    <li>
      <a href="page-k.html">Week 11</a>
    </li>
    <li>
      <a href="page-l.html">Week 12</a>
    </li>
    <li>
      <a href="page-m.html">Week 13</a>
    </li>
    <li>
      <a href="page-n.html">Week 14</a>
    </li>
  </ul>
</li>
<li>
  <a href="sow.html">About</a>
</li>
<li>
  <a href="Links.html">Links</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Topic 5: Data Cleaning and filtering</h1>
<h4 class="date">2023-10-25</h4>

</div>


<p>In this topic, you will learn about :</p>
<ul>
<li>Introduction to tidy data</li>
<li>Introduction to tidyr package</li>
<li>Missing Data</li>
</ul>
<div id="section" class="section level1 tabset">
<h1 class="tabset"></h1>
<div id="introduction-to-tidy-data" class="section level2">
<h2>Introduction to tidy data</h2>
<div id="introduction-to-tidy-data-1" class="section level3">
<h3>Introduction to tidy data</h3>
<p><strong>Introduction to Tidy Data in R Programming</strong></p>
<p>Tidy data is a structured and standardized format for organizing
datasets that makes data manipulation, visualization, and analysis more
straightforward and efficient. Tidy data principles, introduced by
Hadley Wickham, aim to provide a consistent and intuitive way to handle
data in R. In tidy data, each variable forms a column, each observation
forms a row, and each type of observational unit forms a table.</p>
<p><strong>Tidy Data Principles:</strong></p>
<ol style="list-style-type: decimal">
<li>Each variable has its own column: Each variable or attribute of the
data is represented by a separate column.</li>
<li>Each observation has its own row: Each unique observation or case is
represented by a separate row.</li>
<li>Each type of observational unit forms a table: Related data should
be organized into separate tables.</li>
</ol>
<p><strong>Benefits of Tidy Data:</strong></p>
<ol style="list-style-type: decimal">
<li>Simplified data manipulation and analysis with consistent data
structures.</li>
<li>Easy integration with other R packages and tools.</li>
<li>More straightforward data visualization and interpretation.</li>
</ol>
<p><strong>Example of Tidy Data:</strong></p>
<p>Suppose we have a dataset containing information about the age and
height of individuals in different countries. The tidy format of this
data would be as follows:</p>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
Data
</caption>
<thead>
<tr>
<th style="text-align:left;">
Country
</th>
<th style="text-align:left;">
Age
</th>
<th style="text-align:left;">
Height
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
USA
</td>
<td style="text-align:left;">
25
</td>
<td style="text-align:left;">
175
</td>
</tr>
<tr>
<td style="text-align:left;">
Canada
</td>
<td style="text-align:left;">
30
</td>
<td style="text-align:left;">
180
</td>
</tr>
<tr>
<td style="text-align:left;">
Germany
</td>
<td style="text-align:left;">
22
</td>
<td style="text-align:left;">
168
</td>
</tr>
<tr>
<td style="text-align:left;">
USA
</td>
<td style="text-align:left;">
28
</td>
<td style="text-align:left;">
172
</td>
</tr>
<tr>
<td style="text-align:left;">
Canada
</td>
<td style="text-align:left;">
35
</td>
<td style="text-align:left;">
185
</td>
</tr>
<tr>
<td style="text-align:left;">
Germany
</td>
<td style="text-align:left;">
27
</td>
<td style="text-align:left;">
175
</td>
</tr>
</tbody>
</table>
<p>Here, each row represents a unique individual, and each column
represents a variable (Country, Age, and Height).</p>
<p><strong>Tidying Data in R:</strong></p>
<p>To convert data into a tidy format, you can use the tidyr package,
which provides functions like <strong>gather()</strong> and
<strong>spread()</strong> to reshape and tidy data.</p>
<p><strong>Example: Tidying Data using tidyr</strong></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># Sample messy data</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>messy_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  <span class="at">Country =</span> <span class="fu">c</span>(<span class="st">&quot;USA&quot;</span>, <span class="st">&quot;Canada&quot;</span>, <span class="st">&quot;Germany&quot;</span>),</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>  <span class="at">Age_2019 =</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">22</span>),</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>  <span class="at">Age_2020 =</span> <span class="fu">c</span>(<span class="dv">28</span>, <span class="dv">35</span>, <span class="dv">27</span>),</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>  <span class="at">Height_2019 =</span> <span class="fu">c</span>(<span class="dv">175</span>, <span class="dv">180</span>, <span class="dv">168</span>),</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>  <span class="at">Height_2020 =</span> <span class="fu">c</span>(<span class="dv">172</span>, <span class="dv">185</span>, <span class="dv">175</span>)</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>)</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="co"># Tidying the data using gather() function</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>tidy_data <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">gather</span>(messy_data, <span class="at">key =</span> <span class="st">&quot;Year_Height&quot;</span>, <span class="at">value =</span> <span class="st">&quot;Value&quot;</span>, Age_2019<span class="sc">:</span>Height_2020)</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="fu">print</span>(tidy_data)</span></code></pre></div>
<pre><code>##    Country Year_Height Value
## 1      USA    Age_2019    25
## 2   Canada    Age_2019    30
## 3  Germany    Age_2019    22
## 4      USA    Age_2020    28
## 5   Canada    Age_2020    35
## 6  Germany    Age_2020    27
## 7      USA Height_2019   175
## 8   Canada Height_2019   180
## 9  Germany Height_2019   168
## 10     USA Height_2020   172
## 11  Canada Height_2020   185
## 12 Germany Height_2020   175</code></pre>
<p>In this example, the initial dataset messy_data contains age and
height information for individuals in different countries for two years
(2019 and 2020). We use the <strong>gather()</strong> function from
tidyr to tidy the data, combining the “Age” and “Height” variables into
a single column, and creating a new column called “Year_Height” to
indicate the year of measurement. The resulting tidy_data will follow
the principles of tidy data.</p>
<p>By following tidy data principles, you can make your data analysis
workflow more organized, efficient, and reproducible in R. Tidy data
allows you to take advantage of the full potential of various R packages
and tools for data manipulation, visualization, and analysis.</p>
</div>
</div>
<div id="introduction-to-tidyr-package" class="section level2">
<h2>Introduction to tidyr package</h2>
<div id="introduction-to-tidyr-package-1" class="section level3">
<h3>Introduction to tidyr package</h3>
<p><strong>Introduction to tidyr Package in R Programming</strong></p>
<p>tidyr is a powerful R package designed to help tidy and reshape data,
making it easier to work with and analyze. It is part of the tidyverse
ecosystem, developed by Hadley Wickham, and complements the dplyr
package for data manipulation. tidyr provides functions to convert data
between wide and long formats, gather and spread data, and handle
missing values efficiently.</p>
<p><strong>Key Functions in tidyr:</strong></p>
<p><strong>1. gather()</strong>: This function converts data from wide
to long format by gathering columns into key-value pairs. It is
particularly useful when you have multiple columns representing
different variables, and you want to transform them into rows.</p>
<p><strong>Example of gather():</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Sample wide-format data</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>wide_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>  <span class="at">ID =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>  <span class="at">Year_2019 =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">120</span>, <span class="dv">80</span>),</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  <span class="at">Year_2020 =</span> <span class="fu">c</span>(<span class="dv">110</span>, <span class="dv">130</span>, <span class="dv">90</span>)</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>)</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="co"># Convert to long format using gather()</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>tidy_data <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">gather</span>(wide_data, <span class="at">key =</span> <span class="st">&quot;Year&quot;</span>, <span class="at">value =</span> <span class="st">&quot;Value&quot;</span>, Year_2019<span class="sc">:</span>Year_2020)</span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="fu">print</span>(tidy_data)</span></code></pre></div>
<pre><code>##   ID      Year Value
## 1  1 Year_2019   100
## 2  2 Year_2019   120
## 3  3 Year_2019    80
## 4  1 Year_2020   110
## 5  2 Year_2020   130
## 6  3 Year_2020    90</code></pre>
<p><strong>2. spread():</strong> This function converts data from long
to wide format by spreading key-value pairs into separate columns. It is
useful when you want to reshape your data so that each unique value in a
column becomes a new column.</p>
<p><strong>Example of spread():</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># Sample long-format data</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>long_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>  <span class="at">ID =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">3</span>),</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>  <span class="at">Year =</span> <span class="fu">c</span>(<span class="st">&quot;Year_2019&quot;</span>, <span class="st">&quot;Year_2020&quot;</span>, <span class="st">&quot;Year_2019&quot;</span>, <span class="st">&quot;Year_2020&quot;</span>, <span class="st">&quot;Year_2019&quot;</span>, <span class="st">&quot;Year_2020&quot;</span>),</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>  <span class="at">Value =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">110</span>, <span class="dv">120</span>, <span class="dv">130</span>, <span class="dv">80</span>, <span class="dv">90</span>)</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>)</span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="co"># Convert to wide format using spread()</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a>wide_data <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">spread</span>(long_data, <span class="at">key =</span> <span class="st">&quot;Year&quot;</span>, <span class="at">value =</span> <span class="st">&quot;Value&quot;</span>)</span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a><span class="fu">print</span>(wide_data)</span></code></pre></div>
<pre><code>##   ID Year_2019 Year_2020
## 1  1       100       110
## 2  2       120       130
## 3  3        80        90</code></pre>
<p><strong>3. separate() and unite():</strong> These functions are used
to split or combine columns containing multiple pieces of information,
respectively. <strong>separate()</strong> splits a column into multiple
columns based on a separator, while <strong>unite()</strong> combines
multiple columns into a single column.</p>
<p><strong>Example of separate() and unite():</strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co"># Sample data with combined date information</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>  <span class="at">ID =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>  <span class="at">Date =</span> <span class="fu">c</span>(<span class="st">&quot;2021-08-01&quot;</span>, <span class="st">&quot;2021-08-02&quot;</span>, <span class="st">&quot;2021-08-03&quot;</span>)</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>)</span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="co"># Separate the Date column into Year, Month, and Day columns</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a>separated_data <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">separate</span>(data, <span class="at">col =</span> Date, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;Year&quot;</span>, <span class="st">&quot;Month&quot;</span>, <span class="st">&quot;Day&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;-&quot;</span>)</span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="fu">print</span>(separated_data)</span></code></pre></div>
<pre><code>##   ID Year Month Day
## 1  1 2021    08  01
## 2  2 2021    08  02
## 3  3 2021    08  03</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="co"># Combine Year, Month, and Day columns into a single Date column</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>united_data <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">unite</span>(separated_data, <span class="at">col =</span> Date, Year, Month, Day, <span class="at">sep =</span> <span class="st">&quot;-&quot;</span>)</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="fu">print</span>(united_data)</span></code></pre></div>
<pre><code>##   ID       Date
## 1  1 2021-08-01
## 2  2 2021-08-02
## 3  3 2021-08-03</code></pre>
<p>These are just a few examples of the functionalities provided by the
tidyr package. Tidying and reshaping your data using tidyr can
significantly improve data analysis workflows and make your code more
expressive and readable. The <strong>tidyr</strong> package, along with
other packages in the <strong>tidyverse</strong>, promotes a consistent
and efficient approach to data manipulation in R.</p>
</div>
</div>
<div id="missing-data" class="section level2">
<h2>Missing Data</h2>
<div id="handling-missing-data-in-r-programming" class="section level3">
<h3>Handling Missing Data in R Programming</h3>
<p>Missing data refers to the absence of values in a dataset. Dealing
with missing data is a crucial step in data analysis, as it can impact
the accuracy and validity of your results. In R, there are various
approaches to handle missing data effectively.</p>
<p><strong>Common Representations of Missing Data in R:</strong></p>
<ol style="list-style-type: decimal">
<li><strong>NA (Not Available):</strong> R uses NA to represent missing
values in numeric, character, and logical vectors.</li>
<li><strong>NaN (Not a Number):</strong> Used in specific cases for
undefined mathematical operations.</li>
<li><strong>NULL:</strong> Used to represent missing values in lists or
objects.</li>
</ol>
<p><strong>Identifying Missing Data:</strong></p>
<ol style="list-style-type: decimal">
<li><strong>is.na():</strong> Checks if elements in a vector or data
frame are missing.</li>
<li><strong>complete.cases():</strong> Returns a logical vector
indicating complete cases (no missing values) in a data frame.</li>
</ol>
<p><strong>Example: Identifying Missing Data</strong></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="co"># Sample data with missing values</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">ID =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">Value =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="cn">NA</span>, <span class="dv">15</span>, <span class="cn">NA</span>, <span class="dv">20</span>))</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a><span class="co"># Detect missing values</span></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>missing_values <span class="ot">&lt;-</span> <span class="fu">is.na</span>(data<span class="sc">$</span>Value)</span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a><span class="fu">print</span>(missing_values)</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE FALSE  TRUE FALSE</code></pre>
<p><strong>Handling Missing Data:</strong></p>
<ol style="list-style-type: decimal">
<li><strong>Omitting Missing Data:</strong> <strong>na.omit():</strong>
Removes rows containing any missing values from a data frame.</li>
</ol>
<p><strong>Example: Omitting Missing Data</strong></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="co"># Sample data with missing values</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">ID =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">Value =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="cn">NA</span>, <span class="dv">15</span>, <span class="cn">NA</span>, <span class="dv">20</span>))</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="co"># Remove rows with missing values</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>clean_data <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(data)</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a><span class="fu">print</span>(clean_data)</span></code></pre></div>
<pre><code>##   ID Value
## 1  1    10
## 3  3    15
## 5  5    20</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><strong>Replacing Missing Values:</strong></li>
</ol>
<p><strong>replace(x, list, values)</strong>: Replaces values in vector
x based on a list of replacement values. <strong>ifelse(test, yes,
no)</strong>: Replaces values in a vector based on a logical test.</p>
<p><strong>Example: Replacing Missing Values</strong></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="co"># Sample data with missing values</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">ID =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">Value =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="cn">NA</span>, <span class="dv">15</span>, <span class="cn">NA</span>, <span class="dv">20</span>))</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="co"># Replace missing values with a specific value</span></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>replaced_data <span class="ot">&lt;-</span> <span class="fu">replace</span>(data<span class="sc">$</span>Value, <span class="fu">is.na</span>(data<span class="sc">$</span>Value), <span class="dv">0</span>)</span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a><span class="fu">print</span>(replaced_data)</span></code></pre></div>
<pre><code>## [1] 10  0 15  0 20</code></pre>
<p><strong>Example: Replacing Missing Values</strong></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="co"># Sample data with missing values</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">ID =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">Value =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="cn">NA</span>, <span class="dv">15</span>, <span class="cn">NA</span>, <span class="dv">20</span>))</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a><span class="co"># Replace missing values with a specific value</span></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>replaced_data <span class="ot">&lt;-</span> <span class="fu">replace</span>(data<span class="sc">$</span>Value, <span class="fu">is.na</span>(data<span class="sc">$</span>Value), <span class="dv">0</span>)</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a><span class="fu">print</span>(replaced_data)</span></code></pre></div>
<pre><code>## [1] 10  0 15  0 20</code></pre>
<ol start="3" style="list-style-type: decimal">
<li><strong>Imputing Missing Data:</strong></li>
</ol>
<p><strong>is.na()</strong> combined with subsetting: Replace missing
values with a specific value or computed value.</p>
<p>Imputing involves estimating missing values using statistical
methods. Popular imputation methods include mean, median, or regression
imputation.</p>
<ul>
<li><strong>Example: Imputing Missing Data with mean</strong></li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="co"># Sample data with missing values</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">ID =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">Value =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="cn">NA</span>, <span class="dv">15</span>, <span class="cn">NA</span>, <span class="dv">20</span>))</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="co"># Impute missing values with mean</span></span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a>mean_value <span class="ot">&lt;-</span> <span class="fu">mean</span>(data<span class="sc">$</span>Value, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a>imputed_data <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(data<span class="sc">$</span>Value), mean_value, data<span class="sc">$</span>Value)</span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a><span class="fu">print</span>(imputed_data)</span></code></pre></div>
<pre><code>## [1] 10 15 15 15 20</code></pre>
<ul>
<li><strong>Using Hmisc Library and imputing with Median
value:</strong></li>
</ul>
<p>Using the function <strong>impute( )</strong> inside Hmisc library
let’s impute the column marks2 of data with the median value of this
entire column.</p>
<p><strong>Example: Using Hmisc Library and imputing with Median
value</strong></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="co"># install and load the required packages</span></span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;Hmisc&quot;</span>)</span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a><span class="fu">library</span>(Hmisc)</span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a><span class="co"># create a adataframe</span></span>
<span id="cb21-7"><a href="#cb21-7" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">marks1 =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="dv">22</span>, <span class="cn">NA</span>, <span class="dv">49</span>, <span class="dv">75</span>),</span>
<span id="cb21-8"><a href="#cb21-8" tabindex="-1"></a>                <span class="at">marks2 =</span> <span class="fu">c</span>(<span class="dv">81</span>, <span class="dv">14</span>, <span class="cn">NA</span>, <span class="dv">61</span>, <span class="dv">12</span>),</span>
<span id="cb21-9"><a href="#cb21-9" tabindex="-1"></a>                <span class="at">marks3 =</span> <span class="fu">c</span>(<span class="fl">78.5</span>, <span class="fl">19.325</span>, <span class="cn">NA</span>, <span class="dv">28</span>,</span>
<span id="cb21-10"><a href="#cb21-10" tabindex="-1"></a>                            <span class="fl">48.002</span>))</span>
<span id="cb21-11"><a href="#cb21-11" tabindex="-1"></a></span>
<span id="cb21-12"><a href="#cb21-12" tabindex="-1"></a><span class="co"># fill missing values of marks2 with median</span></span>
<span id="cb21-13"><a href="#cb21-13" tabindex="-1"></a><span class="fu">impute</span>(data<span class="sc">$</span>marks2, median)</span></code></pre></div>
<ul>
<li><strong>Impute with a specific Constant value</strong></li>
</ul>
<p>Using the function <strong>impute( )</strong> inside Hmisc library
let’s impute the column marks2 of data with a constant value.</p>
<p><strong>Example: Impute missing values</strong></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="co"># install and load the required packages</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;Hmisc&quot;</span>)</span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a><span class="fu">library</span>(Hmisc)</span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a><span class="co"># create a adataframe</span></span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">marks1 =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="dv">22</span>, <span class="cn">NA</span>, <span class="dv">49</span>, <span class="dv">75</span>),</span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a>                <span class="at">marks2 =</span> <span class="fu">c</span>(<span class="dv">81</span>, <span class="dv">14</span>, <span class="cn">NA</span>, <span class="dv">61</span>, <span class="dv">12</span>),</span>
<span id="cb22-8"><a href="#cb22-8" tabindex="-1"></a>                <span class="at">marks3 =</span> <span class="fu">c</span>(<span class="fl">78.5</span>, <span class="fl">19.325</span>, <span class="cn">NA</span>, <span class="dv">28</span>,</span>
<span id="cb22-9"><a href="#cb22-9" tabindex="-1"></a>                            <span class="fl">48.002</span>))</span>
<span id="cb22-10"><a href="#cb22-10" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" tabindex="-1"></a><span class="co"># impute with a specific number</span></span>
<span id="cb22-12"><a href="#cb22-12" tabindex="-1"></a><span class="co"># replace NA with 2000</span></span>
<span id="cb22-13"><a href="#cb22-13" tabindex="-1"></a><span class="fu">impute</span>(data<span class="sc">$</span>marks3, <span class="dv">2000</span>)</span></code></pre></div>
<p><strong>Handling Missing Data Summary:</strong></p>
<ol style="list-style-type: decimal">
<li>Missing data is common in datasets and needs to be addressed for
accurate analysis.</li>
<li>Use <strong>is.na()</strong> and <strong>complete.cases()</strong>
to identify missing data.</li>
<li>Choose appropriate methods for handling missing data, such as
omitting, imputing, or using specialized packages like
<strong>imputeTS</strong>.</li>
</ol>
<p>Remember that the choice of handling missing data depends on the
nature of the data and the objectives of the analysis. Always handle
missing data thoughtfully and consider the potential impact on the
validity of your results.</p>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
